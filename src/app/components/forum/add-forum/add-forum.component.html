<script>
  var inputs = document.querySelectorAll( 'input[type=text], input[type=email]' );
for (i = 0; i < inputs.length; i ++) {
  var inputEl = inputs[i];
  if( inputEl.value.trim() !== '' ) {
  	inputEl.parentNode.classList.add( 'input--filled' );
  }
  inputEl.addEventListener( 'focus', onFocus );
  inputEl.addEventListener( 'blur', onBlur );
}

function onFocus( ev ) {
  ev.target.parentNode.classList.add( 'inputs--filled' );
}

function onBlur( ev ) {
  if ( ev.target.value.trim() === '' ) {
  	ev.target.parentNode.classList.remove( 'inputs--filled' );
  } else if ( ev.target.checkValidity() == false ) {
    ev.target.parentNode.classList.add( 'inputs--invalid' );
    ev.target.addEventListener( 'input', liveValidation );
  } else if ( ev.target.checkValidity() == true ) {
    ev.target.parentNode.classList.remove( 'inputs--invalid' );
    ev.target.addEventListener( 'input', liveValidation );
  }
}

function liveValidation( ev ) {
  if ( ev.target.checkValidity() == false ) {
    ev.target.parentNode.classList.add( 'inputs--invalid' );
  } else {
    ev.target.parentNode.classList.remove( 'inputs--invalid' );
  }
}

var submitBtn = document.querySelector( 'input[type=submit]' );
submitBtn.addEventListener( 'click', onSubmit );

function onSubmit( ev ) {
  var inputsWrappers = ev.target.parentNode.querySelectorAll( 'span' );
  for (i = 0; i < inputsWrappers.length; i ++) {
    input = inputsWrappers[i].querySelector( 'input[type=text], input[type=email]' );
    if ( input.checkValidity() == false ) {
      inputsWrappers[i].classList.add( 'inputs--invalid' );
    } else if ( input.checkValidity() == true ) {
      inputsWrappers[i].classList.remove( 'inputs--invalid' );
    }
  }
}
</script>

<link href='https://fonts.googleapis.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
<main>
  <figure>
    <picture>
           <img src="//my-assets.netlify.com/codepen/dailyui-001/img.png"
                 alt="Citymap illustration" />
    </picture>
  </figure>
  <div class="headline">
    <h2 class="text-headline">NEW FORUM</h2>
    <h3 class="text-subheadline">Create a space for your passion start your own forum today!</h3>
  </div>
  <form (ngSubmit)="onSubmit()">
    <span>
      <label for="username" class="text-small-uppercase">Title</label>
      <input class="text-body" type="text" id="title"
      [(ngModel)]="forum.title" name="title" required>
    </span>
    <span>
      <label for="city" class="text-small-uppercase">Description</label>
      <input class="text-body"  type="text"  id="description"
      [(ngModel)]="forum.description" name="description" required>
    </span>
    <input class="text-small-uppercase" id="submit" type="submit" value="Create now">
  </form>
</main>




<!--h3>Create a forum</h3>
<form (ngSubmit)="onSubmit()">

  <div class="form-group">
    <label>Titre</label>
    <input type="text" class ="form-control" id="title"
      [(ngModel)]="forum.title" name="title">
  </div>

  <div class="form-group">
    <label>Description</label>
    <input type="text" class ="form-control" id="description"
           [(ngModel)]="forum.description" name="description">
  </div>

  <button class="btn btn-success" type="submit">submit</button>
  <button class="btn btn-danger" type="reset" >reset </button>

</form -->

